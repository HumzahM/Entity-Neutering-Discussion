#Ran this script at 7:30 PM Pacific on 2025-07-09

from openai import OpenAI
from dotenv import load_dotenv

load_dotenv()
client = OpenAI()

response = client.chat.completions.create(
    model="gpt-4o-mini",
    messages=[{"role": "system", "content": "Your role is to ANONYMIZE all text that is provided by the user. \nAfter you have anonymized a text, NOBODY, not even an expert financial analyst should be able to read the text and know the identity of the company nor the industry the company operates in. \nFor example, if the text is: The country's largest phone producer Apple had great phone related earnings but Google did not in 2024 likely because of Apple's slogan Think Different, then you should ANONYMIZE it to: \nThe country's largest product_type_1 producer Company_1 had great product_type_1 related earnings but Company_2 did not in time_1 likely because of Company_1's slogan slogan_1. \nYou should also ANONYMIZE any other information which one could use to identify the company or make an educated guess at its identity. \nStock tickers are identifiers and are usually four capitalized letters or less (consider TIK as a stand-in for an arbitrary ticker) and are sometimes referenced in the text in the following formats; \nSYMBOL:TIK, $TIK, >TIK, $ TIK, SYMBOL TIK, SYMBOL: TIK, > TIK. \nMake sure you censor TIK to ticker_x, and any other identifiers related to companies. \nThis includes the names of individuals, locations, industries, sectors, product names and types and generic product lines, services, times, years, dates and all numbers and percentages in the text including units. \nThese should be replaced with name_x, location_x, industry_x, sector_x, product_x, product_type_x, product_line_x, service_x, time_x, year_x, date_x and number a, b, c, respectively. \nAlso replace any website or internet links with link_x. You should never just delete an identifier; instead, always replace it with an anonymous analog. \nAfter you read and ANONYMIZE the text, you should output the anonymized text and nothing else."}, {"role": "user", "content": "user\nRespond as if writing a formal encyclopedia entry. Use objective, impersonal, and factual language only. Do not address the reader. Do not speculate, suggest, or provide advice. Avoid all conversational phrasing, including words like \"you\", \"considering\", \"may\", or \"should\". Do not use markdown, bullet points, or lists. Write a single, well-structured paragraph.\n\nUsing only information through 2021-02-03, predict the main growth drivers for BIOGEN INC. in 2021. Do not respond with saying you do not know.\nmodel\nBiogen Inc.\u2019s projected growth in 2021 was anticipated to be significantly influenced by performance of its multiple sclerosis (MS) franchise, particularly Ocrevus\u2014marketed by Roche but with revenue sharing agreements impacting Biogen\u2014and Tecfidera, despite facing generic competition. AduHelm (aducanumab), a newly approved amyloid plaque-reducing antibody for the treatment of Alzheimer's disease, represented a substantial, though initially controversial, potential growth driver, contingent upon securing broad reimbursement and acceptance within the medical community. Spinraza, a treatment for spinal muscular atrophy, continued to represent a consistent revenue source, with growth dependent on maintaining market share and expanding access internationally. Biosimilars revenue, derived from partnerships, constituted a smaller but growing segment. Overall corporate strategy focused on neurological diseases, and success in these core areas, alongside management of patent expirations on established MS therapies, dictated projected financial performance for the year."}],
    temperature=0, 
    seed=2060279487
)

print(response)
print(response.choices[0].message.content)

#It completely up misses the Biogen name
"""
ChatCompletion(id='chatcmpl-BrbIxIDwMKhDBdpu2yMOi4zQsNdzH', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content="Biogen Inc.'s projected growth in time_x was anticipated to be significantly influenced by performance of its product_type_1 franchise, particularly product_x—marketed by Company_1 but with revenue sharing agreements impacting Company_2—and product_x, despite facing generic competition. Product_x, a newly approved product_x for the treatment of product_x, represented a substantial, though initially controversial, potential growth driver, contingent upon securing broad reimbursement and acceptance within the medical community. Product_x, a treatment for product_x, continued to represent a consistent revenue source, with growth dependent on maintaining market share and expanding access internationally. Revenue from product_type_2, derived from partnerships, constituted a smaller but growing segment. Overall corporate strategy focused on industry_x, and success in these core areas, alongside management of patent expirations on established product_type_1 therapies, dictated projected financial performance for the year.", refusal=None, role='assistant', annotations=[], audio=None, function_call=None, tool_calls=None))], created=1752114483, model='gpt-4o-mini-2024-07-18', object='chat.completion', service_tier='default', system_fingerprint='fp_34a54ae93c', usage=CompletionUsage(completion_tokens=177, prompt_tokens=727, total_tokens=904, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0)))
Biogen Inc.'s projected growth in time_x was anticipated to be significantly influenced by performance of its product_type_1 franchise, particularly product_x—marketed by Company_1 but with revenue sharing agreements impacting Company_2—and product_x, despite facing generic competition. Product_x, a newly approved product_x for the treatment of product_x, represented a substantial, though initially controversial, potential growth driver, contingent upon securing broad reimbursement and acceptance within the medical community. Product_x, a treatment for product_x, continued to represent a consistent revenue source, with growth dependent on maintaining market share and expanding access internationally. Revenue from product_type_2, derived from partnerships, constituted a smaller but growing segment. Overall corporate strategy focused on industry_x, and success in these core areas, alongside management of patent expirations on established product_type_1 therapies, dictated projected financial performance for the year.
"""